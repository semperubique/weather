(()=>{const e=document.querySelector("form");document.querySelector(".search-button").addEventListener("click",(async()=>{if(e.checkValidity()){const t=document.querySelector("input#location").value,o=document.querySelector(".city-name"),n=document.querySelector(".weather-description"),i=document.querySelector(".current-temp"),r=document.querySelector(".humidity"),a=document.querySelector(".wind-speed");document.querySelector("#loading").classList.remove("hidden"),document.querySelector(".today").classList.add("hidden");const c=await(async(e,t)=>{try{const n=`http://api.openweathermap.org/data/2.5/forecast?q=${t}&APPID=${e}&units=metric`,i=await fetch(n,{mode:"cors"});if(200===i.status)return{name:(o=await i.json()).city.name,today:{currentTemp:Math.round(o.list[0].main.temp),feelsLike:Math.round(o.list[0].main.feels_like),minTemp:Math.round(o.list[0].main.temp_min),maxTemp:Math.round(o.list[0].main.temp_max),humidity:Math.round(o.list[0].main.humidity),weatherDescription:o.list[0].weather[0].description,windSpeed:Math.round(3.6*o.list[0].wind.speed*100)/100}};console.log(`Error: ${i.status}`)}catch(e){console.log(e)}var o})("b902e8317058b2cac1e5f3c013a5fb95",t);void 0!==c?(o.textContent=c.name,n.textContent=c.today.weatherDescription,i.textContent=c.today.currentTemp+"\tÂ°C",r.textContent="Humidity: "+c.today.humidity+" %",a.textContent="Wind speed: "+c.today.windSpeed+" km/h"):(document.querySelector("input#location").setCustomValidity("Incorrect place name"),e.reportValidity(),document.querySelector("input#location").setCustomValidity(""),e.reset()),document.querySelector("#loading").classList.add("hidden"),document.querySelector(".today").classList.remove("hidden")}else e.reportValidity()}))})();